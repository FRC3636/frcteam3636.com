---

import Section from "../components/Section.astro";
import Article from "../layouts/Article.astro";
import { faTwitch } from "@fortawesome/free-brands-svg-icons";
import Button from "../components/Button.astro";
import Icon from "../components/Icon.astro";
import { faCamera, faStream, faVideo } from "@fortawesome/free-solid-svg-icons";
import { getCollection, render } from 'astro:content';
import EventItem from "../components/events/EventItem.astro";

const events = await getCollection("events");
events.sort((a, b) => b.data.date.getTime() - a.data.date.getTime());
---

<Article
    title="Events"
    description="Support Grant High School’s FIRST Robotics Team\
                by tuning into an event in-person or online."
>
    <Section>
        <h1>Event Information</h1>
        <p>
            Support Grant High School’s FIRST Robotics Team by tuning into an
            event in-person or online.
        </p>
        <Button href="https://3636.live">
            <Icon symbol={faVideo} />
            Watch Now
        </Button>
    </Section>
    <Section theme="secondary">
        <ul class="event-list">
            {events.map((event) =>
                <EventItem data={event} />
            )}
        </ul>
    </Section>
</Article>

<style lang="scss">
    .event-list {
        list-style: none;
        padding: 0;
        display: flex;
        flex-direction: column;
        gap: 2rem;
    }
</style>