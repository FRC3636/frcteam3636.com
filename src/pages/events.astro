---

import Section from "../components/Section.astro";
import Article from "../layouts/Article.astro";
import { faTwitch } from "@fortawesome/free-brands-svg-icons";
import Button from "../components/Button.astro";
import Icon from "../components/Icon.astro";
import { faCamera, faStream, faVideo } from "@fortawesome/free-solid-svg-icons";

interface Event {
    name: string;
    location: string;
    coordinates: string;
    link: string;
    twitch?: string;
}

const events: Event[] = [
    {
        name: "PNW District Clackamas Academy Event",
        location: "1306 12th St, Oregon City, OR 97045, USA",
        coordinates: "45.3562418,-122.5965714",
        link: "https://www.thebluealliance.com/event/2025orore",
        twitch: "#",
    }
];
---

<Article
    title="Events"
    description="Support Grant High School’s FIRST Robotics Team\
                by tuning into an event in-person or online."
>
    <Section>
        <h1>Event Information</h1>
        <p>
            Support Grant High School’s FIRST Robotics Team by tuning into an
            event in-person or online.
        </p>
        <Button href="https://3636.live">
            <Icon symbol={faVideo} />
            Watch Now
        </Button>
    </Section>
    <Section theme="secondary">
        <ul class="event-list">
            {events.map((event) =>
                <li class="event-item">
                    <h2>
                        <a href={event.link}>
                            {event.name}
                        </a>
                    </h2>
                    <div class="event-links">
                        <!-- TODO: add google maps link, switch based on OS, maybe use `geo:`? -->
                        <a href=`//maps.apple.com/?q=${event.coordinates}` class="event-subheading">
                            {event.location}
                        </a>
                        <Button href={event.twitch} class="twitch-logo" size="small">
                            <Icon symbol={faTwitch} />
                            Twitch
                        </Button>
                    </div>
                </li>
            )}
        </ul>
    </Section>
</Article>

<style>
    .event-list {
        list-style: none;
        padding: 0;
        display: flex;
        flex-direction: column;
        box-shadow: var(--shadow);
    }

    .event-item {
        padding: 1rem;
        border: var(--border-primary);
        border-radius: 0.5rem;
        width: min(50ch, 80vw);

        h2 {
            margin: 0;
            font-size: 1.5em;
            text-align: left;
        }
    }

    .event-subheading {
        color: var(--col-body);
        font-size: 0.9em;

        &:not(:hover) {
            text-decoration: none;
        }
    }

    .event-links {
        display: flex;
        gap: 0.75rem;
        justify-content: space-between;
    }

    .twitch-logo {
        --accent: purple;
        color: var(--accent);
        line-height: 0.8em;

        @media (prefers-color-scheme: light) {
            --border-secondary: 1px solid var(--accent);
        }

        @media (prefers-color-scheme: dark) {
            --accent: white;
            --bg-secondary: purple;
        }
    }

</style>